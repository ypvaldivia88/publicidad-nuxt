(window.webpackJsonp=window.webpackJsonp||[]).push([[10],{285:function(e,t,r){"use strict";r.r(t);r(14),r(11),r(10),r(9),r(13);var o=r(3),n=(r(45),r(21)),c=r(75);function l(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(object);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,r)}return t}var m={data:function(){return{imgURL:"https://picsum.photos/600/600/",form:{nombre:"",imagen:null,titulo:"",descripcion:"",cliente:null,categoria:null,alcance:null,checked:[]},show:!0,share:!1,alcances:[{value:null,text:"Seleccione un alcance"},{value:"Municipal",text:"Municipal"},{value:"Provincial",text:"Provincial"},{value:"Nacional",text:"Nacional"},{value:"Internacional",text:"Internacional"}]}},fetch:function(e){return Object(n.a)(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=e.store,t.next=3,r.dispatch("clients/get");case 3:return t.next=5,r.dispatch("categories/get");case 5:case"end":return t.stop()}}),t)})))()},computed:function(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?l(Object(source),!0).forEach((function(t){Object(o.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):l(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}({},Object(c.c)({clientes:function(e){return e.clients.list.map((function(e){return{value:e.id,text:e.nombre}}))},categorias:function(e){return e.categories.list.map((function(e){return{value:e.id,text:e.nombre}}))}})),methods:{onSubmit:function(){var e=this;e.$store.dispatch("publicities/create",{nombre:e.form.nombre,textoCorto:e.form.titulo,textoLargo:e.form.descripcion,alcance:e.form.alcance,categoriaId:e.form.categoria,clienteId:e.form.ciente}).then((function(t){var r=t.data.nombre+" creado";e.$notify({text:r,type:"success",group:"alerts"}),e.share=!0})).catch((function(t){e.$notify({text:"Ha ocurrido un error en el servidor",type:"warning",group:"alerts"})}))},onReset:function(e){var t=this;e.preventDefault(),this.form.titulo="",this.form.descripcion="",this.form.cliente=null,this.form.categoria=null,this.form.alcance=null,this.imgURL="https://picsum.photos/600/600/",this.form.checked=[],this.share=!1,this.show=!1,this.$nextTick((function(){t.show=!0}))},setImage:function(e){var t=e.target.files[0];this.imgURL=URL.createObjectURL(t)}}},f=r(67),component=Object(f.a)(m,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("b-row",[r("b-col",{attrs:{md:"8"}},[e.show?r("b-form",{on:{submit:function(t){return t.preventDefault(),e.onSubmit(t)},reset:e.onReset}},[r("b-form-group",{attrs:{id:"input-group-00",label:"Nombre","label-for":"input-00"}},[r("b-form-input",{attrs:{id:"input-00",type:"text",placeholder:"Entre un nombre para su anuncio",size:"sm",required:""},model:{value:e.form.nombre,callback:function(t){e.$set(e.form,"nombre",t)},expression:"form.nombre"}})],1),e._v(" "),r("b-form-group",{attrs:{id:"input-group-0",label:"Imagen","label-for":"input-0"}},[r("b-form-file",{attrs:{accept:"image/*",placeholder:"Elija una imagen...","drop-placeholder":"arrástrela aquí...",size:"sm",required:""},on:{change:e.setImage},model:{value:e.form.imagen,callback:function(t){e.$set(e.form,"imagen",t)},expression:"form.imagen"}})],1),e._v(" "),r("b-form-group",{attrs:{id:"input-group-1",label:"Título","label-for":"input-1"}},[r("b-form-input",{attrs:{id:"input-1",type:"text",placeholder:"Entre un título",size:"sm",required:""},model:{value:e.form.titulo,callback:function(t){e.$set(e.form,"titulo",t)},expression:"form.titulo"}})],1),e._v(" "),r("b-form-group",{attrs:{id:"input-group-2",label:"Descripción","label-for":"input-2"}},[r("b-form-textarea",{attrs:{id:"input-2",placeholder:"Entre la descripción de su anuncio",size:"sm",rows:"3",required:""},model:{value:e.form.descripcion,callback:function(t){e.$set(e.form,"descripcion",t)},expression:"form.descripcion"}})],1),e._v(" "),r("b-row",[r("b-col",[r("b-form-group",{attrs:{id:"input-group-3",label:"Cliente:","label-for":"input-3"}},[r("b-form-select",{attrs:{id:"input-3",options:e.clientes,size:"sm",required:""},model:{value:e.form.cliente,callback:function(t){e.$set(e.form,"cliente",t)},expression:"form.cliente"}})],1)],1),e._v(" "),r("b-col",[r("b-form-group",{attrs:{id:"input-group-4",label:"Categorías:","label-for":"input-4"}},[r("b-form-select",{attrs:{id:"input-4",options:e.categorias,size:"sm",required:""},model:{value:e.form.categoria,callback:function(t){e.$set(e.form,"categoria",t)},expression:"form.categoria"}})],1)],1),e._v(" "),r("b-col",[r("b-form-group",{attrs:{id:"input-group-5",label:"Categorías:","label-for":"input-5"}},[r("b-form-select",{attrs:{id:"input-5",options:e.alcances,size:"sm",required:""},model:{value:e.form.alcance,callback:function(t){e.$set(e.form,"alcance",t)},expression:"form.alcance"}})],1)],1)],1),e._v(" "),r("b-button",{attrs:{type:"submit",variant:"primary"}},[e._v("Crear Anuncio")]),e._v(" "),r("b-button",{attrs:{type:"reset",variant:"danger"}},[e._v("Reiniciar")])],1):e._e()],1),e._v(" "),r("b-col",{attrs:{md:"4"}},[r("div",[r("b-card",{staticClass:"mb-2",staticStyle:{"max-width":"20rem"},attrs:{title:e.form.titulo,"img-src":e.imgURL,"img-alt":"Image","img-top":"",tag:"article"}},[r("b-card-text",[e._v("\n            "+e._s(e.form.descripcion)+"\n          ")]),e._v(" "),r("b-button",{directives:[{name:"show",rawName:"v-show",value:e.share,expression:"share"}],attrs:{href:"#",variant:"primary"}},[e._v("Compartir")])],1)],1)])],1)],1)}),[],!1,null,null,null);t.default=component.exports}}]);